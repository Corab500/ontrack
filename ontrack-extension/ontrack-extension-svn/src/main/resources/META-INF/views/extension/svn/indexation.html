<#include "/lib/layout.html">

<@layout_std
    page="subversion-indexation"
    title=loc("subversion.indexation")
    extension=true>

    <div class="page-header">
        <h1><small><@lh key="subversion.indexation.last" /></small></h1>
        <#if lastRevisionInfo??>
            <p><@lh key="subversion.indexation.last.revision" />: ${lastRevisionInfo.revision}</p>
            <p><@lh key="subversion.indexation.last.message" />: ${lastRevisionInfo.message?html}</p>
            <p><@lh key="subversion.indexation.last.repositoryRevision" />: ${lastRevisionInfo.repositoryRevision}</p>
        <#else>
            <div class="alert alert-warning">
                <@lh key="subversion.indexation.last.none" />
            </div>
        </#if>
    </div>

    <div class="page-header">
        <h1><small><@lh key="subversion.indexation.latest" /></small></h1>
        <@lh key="subversion.indexation.latest.message" /><br/>
        <a href="gui/extension/svn/indexation/latest" class="btn btn-primary"><@lh key="subversion.indexation.latest.button" /></a>
    </div>

    <div class="page-header">
        <h1><small><@lh key="subversion.indexation.range" /></small></h1>
        <@lh key="subversion.indexation.range.message" />
        <form class="form-inline" method="POST" action="gui/extension/svn/indexation/range">
            <label for="indexation-range-from"><@lh key="subversion.indexation.range.from" /></label>
            <input id="indexation-range-from" class="input-mini" name="from" type="number" size="7" min="1" max="5000000" required="required"  />
            <label for="indexation-range-to"><@lh key="subversion.indexation.range.to" /></label>
            <input id="indexation-range-to" class="input-mini" name="to" type="number" size="7" min="1" max="5000000" required="required" />
            <button type="submit" class="btn btn-primary"><@lh key="subversion.indexation.range.button" /></button>
        </form>
    </div>

    <div class="page-header">
        <h1><small><@lh key="subversion.indexation.full" /></small></h1>
        <p><@lh key="subversion.indexation.full.message" /></p>
        <p class="alert alert-error"><@lh key="subversion.indexation.full.warning" /></p>
        <button id="indexation-full" class="btn btn-danger" type="button"><@lh key="subversion.indexation.full.button" /></button>
    </div>

    <!-- Going back to the home page -->
    <a href="" class="btn"><@lh key="general.close" /></a>
</@layout_std>